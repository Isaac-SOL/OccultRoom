[gd_scene load_steps=15 format=3 uid="uid://d3x7emqm0kl3w"]

[ext_resource type="PackedScene" uid="uid://cqyhtb0tshm" path="res://assets/3Dmodels/furnitures/box.glb" id="1_5xstn"]
[ext_resource type="Script" path="res://scripts/furnitures/box.gd" id="2_1vj6h"]
[ext_resource type="AudioStream" uid="uid://dj7pcexdwtj0w" path="res://assets/audio/Kenney/doorClose_1.ogg" id="3_l85cm"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2w8f8"]
animation = &"chest_close"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jnrdi"]
animation = &"chest_open"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8vpl1"]
animation = &"close_chest"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mnm8p"]
animation = &"open_chest"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k5jmw"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s6rn1"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aqcqw"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_082o7"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_b1574"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_icaam"]
states/chest_close/node = SubResource("AnimationNodeAnimation_2w8f8")
states/chest_close/position = Vector2(352, 100.889)
states/chest_open/node = SubResource("AnimationNodeAnimation_jnrdi")
states/chest_open/position = Vector2(571.333, 99.3333)
states/close_chest/node = SubResource("AnimationNodeAnimation_8vpl1")
states/close_chest/position = Vector2(445.333, 196)
states/open_chest/node = SubResource("AnimationNodeAnimation_mnm8p")
states/open_chest/position = Vector2(452.667, -0.666664)
transitions = ["Start", "chest_close", SubResource("AnimationNodeStateMachineTransition_k5jmw"), "chest_close", "open_chest", SubResource("AnimationNodeStateMachineTransition_s6rn1"), "open_chest", "chest_open", SubResource("AnimationNodeStateMachineTransition_aqcqw"), "chest_open", "close_chest", SubResource("AnimationNodeStateMachineTransition_082o7"), "close_chest", "chest_close", SubResource("AnimationNodeStateMachineTransition_b1574")]
graph_offset = Vector2(-261, -35)

[sub_resource type="BoxShape3D" id="BoxShape3D_jmhjg"]
size = Vector3(1, 1.05261, 2)

[node name="box" instance=ExtResource("1_5xstn")]
transform = Transform3D(1.43, 0, 0, 0, 1, 0, 0, 0, 1.2, 0, 0, 0)
script = ExtResource("2_1vj6h")

[node name="boxTop" parent="." index="1"]
transform = Transform3D(0.305957, 0.105939, 0, -0.105939, 0.305957, 0, 0, 0, 0.323779, -0.236769, 1.08605, 0.0526133)

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeStateMachine_icaam")
anim_player = NodePath("../AnimationPlayer")

[node name="Area3D" type="Area3D" parent="." index="4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.15, 0.94904, 0.0498386)
shape = SubResource("BoxShape3D_jmhjg")

[node name="OpenAudio" type="AudioStreamPlayer" parent="." index="5"]
unique_name_in_owner = true
stream = ExtResource("3_l85cm")
volume_db = -10.0
