[gd_scene load_steps=5 format=3 uid="uid://dtr12fgi36m3m"]

[ext_resource type="PackedScene" uid="uid://b0jprtmb4kasc" path="res://assets/3Dmodels/furnitures/ouija_table.glb" id="1_4e1dr"]
[ext_resource type="Material" uid="uid://brabryakecb0p" path="res://shaders_mats/magic_dissolve_mat.tres" id="2_d37v3"]
[ext_resource type="Material" uid="uid://do4gknpacwphc" path="res://shaders_mats/magic_dissolve_bougie_mat.tres" id="3_oev7t"]

[sub_resource type="GDScript" id="GDScript_0a8js"]
script/source = "extends Node3D

@export var dissolve_material: ShaderMaterial
@export var dissolve_material_candle: ShaderMaterial

func appear():
	var tween: Tween = create_tween()
	tween.tween_method(func(val: float): dissolve_material.set_shader_parameter(\"offset\", val), 1.0, 0.5, 1)
	tween.parallel().tween_method(func(val: float): dissolve_material_candle.set_shader_parameter(\"offset\", val), 1.0, 0.5, 1)
	tween.tween_callback(func(): $Texte_ouija_001.visible = true)
	tween.tween_method(func(val: float): dissolve_material.set_shader_parameter(\"offset\", val), 0.5, -0.2, 1)
	tween.parallel().tween_method(func(val: float): dissolve_material_candle.set_shader_parameter(\"offset\", val), 0.5, -0.2, 1)
"

[node name="ouija_table" instance=ExtResource("1_4e1dr")]
transform = Transform3D(4, 0, 0, 0, 1, 0, 0, 0, 4, 0, 0, 0)
script = SubResource("GDScript_0a8js")
dissolve_material = ExtResource("2_d37v3")
dissolve_material_candle = ExtResource("3_oev7t")

[node name="Ouijaboard" parent="." index="1"]
unique_name_in_owner = true
transform = Transform3D(0.621062, 0, 0, 0, 0.0254814, 0, 0, 0, 0.497494, 0.126434, 0.509487, 0.0526133)
surface_material_override/0 = ExtResource("2_d37v3")

[node name="tapis_table" parent="." index="2"]
transform = Transform3D(0, 0, 3.10131, 0, 2.37703, 0, -2.65995, 0, 0, 0.160991, 1.1082, 0.0782348)

[node name="Texte_ouija_001" parent="." index="3"]
transform = Transform3D(-0.202, 0, -7.86617e-08, 0, 0.202, 0, 7.86617e-08, 0, -0.202, 0.428552, 1.25778, 0.587454)
visible = false
